<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<link rel="stylesheet" href="/assets/css/app.css" />
	</head>
	<body>
		<main>
			<div class="container">
				<aside>
					<form class="logout" action="/logout" method="POST">
						<button>X</button>
					</form>
				</aside>
				{{ if .message }}
					<div class="success">{{ .message }}</div>
				{{ end }}
				<form class="filter" action="/" method="POST">
					<input id="filter" name="filter" type="text" value="{{ .filter }}" required autocomplete="off" {{ if not .filter }}autofocus{{ end }} />
					<label for="filter"><span>Filter</span></label>
					<input type="submit" value="Search" />
				</form>
				<div class="secrets">
					{{range .secrets}}
						<div class="secret">
							<div class="header">
								<label for="secret-{{ .Id }}">{{ .Name }}</label>
								<input id="secret-{{ .Id }}" name="secret" type="checkbox" />
								<div class="edit-modal">
									<div class="modal-container">
										<div class="modal-header">
											<label for="secret-{{ .Id }}" class="close">Ã—</label>
											<div>Edit Secret</div>
										</div>
										<div class="modal-content">
											<form action="/edit/{{ .Id }}" method="POST">
											  <input id="secret-edit-name-{{ .Id }}" type="text" value="{{ .Name }}" name="name" required autocomplete="off">
											  <label for="secret-edit-name-{{ .Id }}"><span>Name</span></label>
											  <textarea id="secret-edit-value-{{ .Id }}" name="value" required autocomplete="off" rows="5">{{ .Value }}</textarea>
											  <label for="secret-edit-value-{{ .Id }}"><span>Value</span></label>
											  <input class="save" type="submit" value="Save" />
											</form>
											<form class="delete" action="/delete/{{ .Id }}" method="POST">
												<input type="submit" value="Delete" />
											</form>
										</div>
								  </div>
								</div>
							</div>
						</div>
					{{end}}
				</div>
			</div>
	  </main>
	</body>
</html>
